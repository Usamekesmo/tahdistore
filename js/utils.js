// ==================================================================
// =================== ملف utils.js (ملف جديد) ======================
// ==================================================================
// يحتوي هذا الملف على دوال مساعدة عامة يمكن استخدامها في أي مكان
// في التطبيق.

/**
 * حساب المستوى واللقب بناءً على نقاط الخبرة (XP).
 * @param {number} xp - إجمالي نقاط الخبرة للمستخدم.
 * @returns {{level: number, title: string}} كائن يحتوي على المستوى واللقب الجديد.
 */
export function calculateLevel(xp) {
    // كل 500 نقطة خبرة تمثل مستوى جديداً
    const level = Math.floor(xp / 500) + 1;

    // مصفوفة الألقاب التي يتم الحصول عليها مع كل مستوى
    const titles = [
        "مبتدئ في رحاب القرآن",
        "مجتهد",
        "مثابر",
        "متقن",
        "حافظ",
        "مُجاز",
        "شيخ",
        "مقرئ"
    ];

    // اختيار اللقب المناسب للمستوى الحالي
    // نستخدم Math.min لضمان عدم تجاوز حدود المصفوفة إذا وصل المستخدم لمستوى عالٍ جداً
    const title = titles[Math.min(level - 1, titles.length - 1)];

    return { level, title };
}